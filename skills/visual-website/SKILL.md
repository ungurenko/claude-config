---
name: visual-website
description: >
  Orchestrates website creation with AI-generated images.
  Triggers: "создай сайт с картинками", "сделай сайт", "website with images",
  "сайт для", "сделай страницу с изображениями", "build a page with images",
  "лендинг с картинками", "визуальный сайт", "create visual website".
  Uses image-generation + frontend-design skills together.
---

# Visual Website — оркестратор сайтов с AI-картинками

Планирует нужные изображения → генерирует в едином стиле → встраивает в сайт.

## When to Use

- Нужен сайт И нужны AI-картинки для него → **этот скилл**
- Картинки не нужны → скилл `frontend-design`
- Инфопродукт (курс, наставничество) → скилл `infoproduct-landing`
- Одна картинка без сайта → скилл `image-generation`

**Распределение ответственности:**

| Аспект | Скилл |
|--------|-------|
| Промпты, модели, MCP-вызовы | `image-generation` |
| UI, вёрстка, палитры | `frontend-design` / `ui-ux-pro-max` |
| Планирование, оркестрация, Style Block | **visual-website** (этот) |

## Workflow

Следуй шагам строго последовательно. Каждый шаг завершается подтверждением пользователя.

---

### Шаг 1: Бриф

Если контекст из запроса недостаточен, уточни через `AskUserQuestion`:

- **Тип сайта:** landing, portfolio, promo, blog, другое
- **Визуальный стиль:** определи по контексту или спроси (минимализм, яркий, тёплый, корпоративный...)
- **Стек:** по умолчанию single HTML + Tailwind CDN (не спрашивай если пользователь не указал иное)

Покажи краткий бриф для подтверждения:

```
Бриф: Landing для кофейни | Тёплый, уютный | 5 секций | HTML + Tailwind
Секции: Hero, О нас, Меню, Галерея, Контакты
```

Дождись подтверждения → следующий шаг.

---

### Шаг 2: Манифест изображений

На основе брифа создай таблицу всех нужных изображений:

| # | Секция | Назначение | Ratio | Приоритет |
|---|--------|------------|-------|-----------|
| 1 | Hero | Фон кофейни | 16:9 | must |
| 2 | О нас | Бариста за работой | 4:3 | must |
| 3 | Меню | Латте арт | 1:1 | nice |

**Приоритеты:**
- `must` — без них сайт не имеет смысла
- `nice` — можно заменить на CSS gradient / placeholder

**Лимит:** ≤10 картинок за сессию. Если нужно больше — разбей на этапы.

**Aspect ratio по месту на странице:**

| Место | Ratio | Почему |
|-------|-------|--------|
| Hero / полноэкранный фон | 16:9 | Заполняет viewport |
| Секция "О нас" / сбоку от текста | 4:3 или 3:2 | Горизонтальный, не доминирует |
| Карточка / продукт | 1:1 | Единообразие в сетке |
| Вертикальная карточка / мобайл | 3:4 или 9:16 | Занимает высоту |

**Рекомендация модели** по количеству картинок:

| Картинок | Модель | Логика |
|----------|--------|--------|
| ≤3 | nano-banana-pro | Максимальное качество |
| 4–7 | gpt-image (medium) | Баланс цена/качество |
| 8+ | z-image или gpt-image | С предупреждением о стоимости |

Если пользователь сказал "бюджетно" / "дёшево" → z-image.

**Оценка стоимости** — покажи ПЕРЕД генерацией:

```
Стоимость: 5 картинок × ~20 кредитов (nano-banana-pro) = ~100 кредитов
```

Вызови `mcp__kie-ai__check_credits` и покажи баланс. Если кредитов мало — предложи z-image или сокращение списка.

Дождись подтверждения манифеста → следующий шаг.

---

### Шаг 3: Style Block

Создай единый стилистический фрагмент (2–4 предложения), который будет добавляться к КАЖДОМУ промпту для визуальной согласованности серии.

**Формат:** `"[Art style]. [Color palette]. [Lighting]. [Mood]. [Constraints]."`

**Пример для кофейни:**
```
Warm editorial photography style. Earth tone palette: warm browns, cream,
terracotta. Soft natural window lighting. Cozy inviting atmosphere.
No text, no watermark, no people's faces.
```

**Пример для tech-стартапа:**
```
Clean 3D render style. Cool palette: electric blue, white, soft grey.
Bright studio lighting with subtle gradients. Professional modern feel.
No text, no watermark, minimal backgrounds.
```

**Правила Style Block:**
- Всегда включай `No text, no watermark`
- Палитра должна совпадать с будущим дизайном сайта
- Если нужны люди — уточни стиль (фото/иллюстрация) и ограничения (лица/без лиц)

Покажи Style Block пользователю → утвердить → приклеивать ко всем промптам.

---

### Шаг 4: Пакетная генерация

Генерируй изображения из манифеста по одному. Для каждого:

1. Составь индивидуальный промпт на английском (описание из манифеста)
2. Приклей Style Block в конец
3. Улучши промпт по гайду из скилла `image-generation` (раздел "Гайд по промптам")
4. Покажи финальный промпт
5. Вызови `mcp__kie-ai__generate_image` с параметрами из манифеста
6. Покажи результат, спроси: **OK / перегенерировать / скорректировать промпт**

**Image Registry** — веди таблицу результатов:

```
| # | Назначение | URL | Статус |
|---|------------|-----|--------|
| 1 | Hero фон | https://cdn.kie.ai/... | OK |
| 2 | Бариста | (генерируется) | ... |
```

**Fast mode:** если пользователь сказал "генерируй всё" / "без остановок" — генерируй подряд без промежуточных вопросов.

**Обработка ошибок:**
- **402 (нет кредитов):** остановись, покажи что уже есть, предложи продолжить с тем что есть
- **Другая ошибка:** 1 retry, если опять fail → пропусти, отметь в реестре

После завершения всех генераций покажи полный Image Registry.

---

### Шаг 5: Сборка сайта

Передай в скилл `frontend-design` следующий контекст:

1. **Бриф** из шага 1 (тип, секции, стек)
2. **Style Block** из шага 3 (палитра и настроение → для CSS)
3. **Image Registry** из шага 4 (URL и назначение каждой картинки)

**Правила встраивания изображений:**

- Hero: `background-image` + `background-size: cover` + `background-position: center`
- Карточки/секции: `<img src="URL" alt="описание" loading="lazy" class="...">`
- Все `<img>` должны иметь осмысленный `alt`
- Все не-hero изображения: `loading="lazy"`
- Fallback: CSS gradient в тон палитре через `background` на случай если картинка не загрузится:
  ```css
  .hero { background: linear-gradient(135deg, #8B6F47, #D4A574) }
  ```

**После сборки ОБЯЗАТЕЛЬНО покажи предупреждение:**

```
⚠ URL от Kie.ai CDN могут быть временными.
Для продакшена: скачай картинки локально или загрузи на свой хостинг.

Скачать все картинки:
mkdir images && cd images
curl -O "url1" && curl -O "url2" ...

Затем замени URL в HTML на локальные пути: src="images/filename.jpg"
```

Предложи сгенерировать bash-скрипт для автоматического скачивания + замены путей.

---

## Рекомендации по типам сайтов

| Тип сайта | Картинок | Модель | Секции |
|-----------|----------|--------|--------|
| Landing (простой) | 3–5 | nano-banana-pro | Hero, Features, CTA |
| Landing (развёрнутый) | 5–8 | gpt-image | Hero, About, Features, Gallery, Testimonials, CTA |
| Portfolio | 6–12 | gpt-image / z-image | Hero, Projects (сетка), About, Contact |
| Promo-страница | 3–5 | nano-banana-pro | Hero, Benefits, CTA |
| Blog | 3–5 | z-image | Header, Article covers, Author |

## Checklist перед завершением

- [ ] Все `must`-картинки из манифеста сгенерированы и встроены
- [ ] Style Block применён ко всем промптам (визуальная согласованность)
- [ ] Палитра сайта (CSS) совпадает с палитрой картинок (Style Block)
- [ ] У всех `<img>` есть `alt` и `loading="lazy"`
- [ ] Hero-секция имеет CSS gradient fallback
- [ ] Показано предупреждение о временности URL
- [ ] Предложен скрипт скачивания картинок
