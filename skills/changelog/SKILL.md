---
name: changelog
description: Генерирует changelog на русском языке на основе git history. Используй когда видишь значительные изменения в коде, новые коммиты, или пользователь просит обновить changelog.
user-invocable: true
---

# Skill: Генерация Changelog

Этот skill генерирует записи changelog на русском языке на основе git history.

## Алгоритм

### 1. Проверь наличие CHANGELOG.md

```bash
# Проверить наличие файла
ls CHANGELOG.md 2>/dev/null || echo "NOT_FOUND"
```

Если файла нет — создай с заголовком:
```markdown
# Changelog

Все значимые изменения проекта документируются здесь.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/).

```

### 2. Собери информацию об изменениях

```bash
# Последние коммиты (за текущую сессию работы)
git log --oneline -20

# Что изменилось в файлах
git diff --stat HEAD~5 2>/dev/null || git diff --stat

# Незакоммиченные изменения
git status --short
```

### 3. Сгенерируй запись changelog

Формат записи:

```markdown
## YYYY-MM-DD — Краткое название изменения

### Добавлено
- Новые функции и возможности

### Изменено
- Изменения в существующей функциональности

### Исправлено
- Исправления багов

### Удалено
- Удалённая функциональность (если есть)
```

**Правила:**
- Дата в формате ISO: YYYY-MM-DD
- Заголовок краткий (3-7 слов), описывает суть изменений
- Каждый пункт начинается с глагола в прошедшем времени
- Группируй связанные изменения
- Пропускай пустые секции (не пиши "### Удалено" если ничего не удалялось)
- Пиши на русском языке

### 4. Вставь запись в CHANGELOG.md

Вставляй новую запись **после заголовка** (строка `# Changelog` и описание), но **перед предыдущими записями**.

### 5. Покажи результат

После добавления записи покажи пользователю что было добавлено.

## Примеры

### Пример 1: Новая фича

```markdown
## 2025-01-29 — Добавлена система авторизации

### Добавлено
- Реализован JWT-based authentication
- Добавлены эндпоинты `/api/auth/login` и `/api/auth/register`
- Создан middleware для проверки токенов

### Изменено
- Обновлена структура API routes
```

### Пример 2: Багфикс

```markdown
## 2025-01-29 — Исправлена валидация форм

### Исправлено
- Исправлена проблема с валидацией email на форме регистрации
- Устранена утечка памяти в компоненте FormValidator
```

### Пример 3: Рефакторинг

```markdown
## 2025-01-29 — Рефакторинг компонентов UI

### Изменено
- Переработана архитектура Button компонента
- Унифицированы стили для всех форм
- Оптимизирован bundle size на 15%

### Удалено
- Удалены устаревшие CSS классы
```

## Когда использовать

- После завершения значительной работы над фичей
- После серии коммитов по одной задаче
- Перед созданием release/tag
- Когда пользователь просит `/changelog`

## Интеграция с другими skills

После `finishing-a-development-branch` — предложи обновить changelog.
