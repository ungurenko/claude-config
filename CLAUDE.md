# Основные правила

Всегда отвечай на русском языке.
Используй Context7 MCP для документации библиотек/API без явной просьбы пользователя.

## Поиск в интернете

НИКОГДА не используй встроенные инструменты WebSearch и WebFetch.
Вместо них ВСЕГДА используй Exa MCP:
- `web_search_exa` — для любого веб-поиска
- `get_code_context_exa` — для поиска кода, документации, примеров
- `company_research_exa` — для информации о компаниях

## Ключевые правила при работе

- **Ошибка/баг:** используй скилл `systematic-debugging`, не угадывай причину
- **UI/компонент:** используй скилл `frontend-design`, не пиши код сразу
- **Новая фича:** сначала `get_code_context_exa` для best practices, покажи 2-3 подхода, потом код
- **API/бэкенд:** предложи агента `backend-architect`
- **Медленные запросы БД:** предложи агента `database-optimization`

## Краткие технические правила

- **Vercel + Vite:** bracket-роуты `[param].ts` могут не работать (405) — используй URL parsing + rewrites
- **Express.js:** `req.query` read-only — используй `Object.defineProperty` для перезаписи
- **HTTP заголовки:** только ASCII символы (кириллица крашит сервер)
- **LLM JSON:** всегда очищай markdown-обёртку (` ```json `) перед `JSON.parse`
- **LLM инструкции:** клиентский config не должен полностью заменять системные инструкции
- **Auth:** передавай токены во ВСЕХ компонентах, обрабатывай 401

Подробные примеры и код: см. `~/claude-config/technical-rules.md`

## Критические требования

Когда пользователь говорит "критически важно" — держи это в фокусе всю сессию.
Перед каждым изменением проверяй: не сломает ли это критическое требование?

## Авто-синхронизация claude-config

После любого редактирования файлов в `~/claude-config/` — **автоматически коммить и пушь**:

```bash
cd ~/claude-config && git add . && git commit -m "Update: краткое описание" && git push
```
